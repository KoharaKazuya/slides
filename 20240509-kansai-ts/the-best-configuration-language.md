---
marp: true
paginate: true
---

<!-- _paginate: false -->

# 最強の設定記述言語はすでにある <!-- fit -->

2024/05/09 [kansai.ts #6](https://kansaits.connpass.com/event/314470/)
小原 一哉

---

## 自己紹介

- 小原 一哉 (こはら かずや)
- ウェブエンジニア
- フェンリル株式会社
- X: [@KoharaKazuya](https://twitter.com/KoharaKazuya)

![bg cover right](./koharakazuya.png)

---

## 想定する聞き手

ユーザー・設定ファイルを記述する人向けの視点ではなく、
主に設定ファイルの書き方を選ぶ・作る人向けの視点の話です。

---

## 「設定」のための言語、いっぱいありすぎでは？

- JSON
- YAML
- TOML
- \*.config.js
- nginx.conf
- VCL (Varnish Configuration Language)

**設定したいだけなのに覚えること多すぎる！**

---

## 乱立する理由

いっぱいある理由はズバリ、

**それぞれが必要とするもっともシンプルで平易な書き方を求めるから**

……だと思う

---

## 乱立する理由

「シンプル・平易」と「柔軟・高機能」はトレードオフ。

このトレードオフの中で最適なバランスを選ぶのは難しい。

---

## トレードオフの端

もっともシンプルなものは、

```
有効にしますか？ (Y/N):
```

もしくは `ini` とか `.env` とか。

---

## トレードオフの端

もっとも柔軟なものは、

汎用プログラミング言語 (JavaScript とか)。

---

適切なバランスを選ぶのが難しいのはわかるけど、せめて覚え直しを減らしてくれー

↓

シンプルな言語は汎用プログラミング言語 (もっとも柔軟なもの) のサブセットとして定義すればいいんじゃない？

---

## すでにある素敵な関係性

### JSON ⊂ JavaScript ⊂ TypeScript <!-- fit -->

---

## すでにある素敵な関係性

シンプルにしたいけど JSON だとコメントが書けない？ ヨシ、ならコメントだけ JavaScript から取り入れた言語を作ればいいじゃない。

---

## 余談

最近この考え方が根底にある [OpenAPI Code](https://github.com/KoharaKazuya/openapi-code) というツールを作った。

---

## まとめ

- 設定記述言語は汎用プログラミング言語のサブセットとして定義すべき
- JSON ⊂ JavaScript ⊂ TypeScript がすでに素晴らしい関係性を持っている
